@page "/counter"
@rendermode InteractiveServer
@inject ILogger<Counter> Logger
@inject IHttpContextAccessor httpContextAccessor;

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }

    protected override void OnInitialized()
    {
        Logger.LogTrace("Trace Test");
        Logger.LogDebug("Debug Test");
        Logger.LogWarning("Warning Test");
        
        if(httpContextAccessor != null && httpContextAccessor.HttpContext != null)
        {
            foreach(var header in httpContextAccessor.HttpContext.Request.Headers)
            {
                Logger.LogWarning("Header {Header} Value {Value}", header.Key, header.Value);
            }
        }

    }
}
